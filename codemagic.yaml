# Automatically generated on 2020-09-04 UTC from https://codemagic.io/app/5f3bec65dd1056780097fa64/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        CM_KEYSTORE: Encrypted(Z0FBQUFBQmZVWkNma3ZKcWJxQ2cyZUVyU0NveE5oS2xyRDRrOWxxZGpyOUVLc0FuNTdkUGRLRGhnLUVXZjZzZGU1bUdSOXJ4REhvOEdYd1oxbjllMVVScjk3aXFhMWJaa2drWWxPaDBOMnQ5eE9wWW11bi1SODJsWXBLa0M5YWV2eEhlRXJYVy1JaUlNOTQ4WktrbDdJS2VfWFE2cXlza0N4QWJ0Y1BkalhhaGxEa3hmQmljQmJzLVpPa2VRRVhZVjN0UElTXzFWUF8zNmhTbnd6RHpnX1VIeTM3aDB1RzhNS0tSVUZmYXFHNFVIMGlYY1QwZmJESGcxRXNNSnd2Z1dkXzhQRFFhZU9iUUFsODU4NlFCQS1iYUNvbW5vUndseEV2dFBQeUE5SmZXMU9rNU1TQW5Jc2hhUm9NWHlPRHBvR3FaeHJ1SXJxVmZOYzRfV1ZtQ21KUVktSEZ3cGRZTUI2aXFYZ3dXNU9Uc3BWU2t5amFidHBzWEs3YkVSeHR1WW8wYkQ5ZnJVWVpYNzVIaXNmY0VRT1BEVm8zMEpvc3JqWWh3dUh4c1Fpb2FUZk1CMHlBUFEtU19zUlNWT0V0NEl6b0lpNjFMTkFmczluUlg5Q1pxc3RjWmx5Y0RPSEF5Y1Baakh1QXhKdTM2ZWstVG80Nm9hc1hMX2dzZ0F3d1RocklOWUR5SFFrTVoxVlpZZzg2c200MjZHTEY4aWlhT05kTG9lWWNmaWRVbWJBRWg1bkViZ1FuRlJKYkg4M0pkUWhBaDZBUGxaWWpwblRmZTVROFdyY3dhYnZCZ1N3WU5yeWllcnBHdl9Oc2EybUY5ei1LaEJPMHFxOHNOU2haaHZ0b1ZYRVQ3Q3Z3Z1FMXzFkZWxaekRWQm1qdFozWnREcFNLV2xmQjNaTjVaeDRYV3E3bTVyMG0zUGtiRUgxcU5BZFBFZ1pCbXVqZUJoYUM4V1RkWGdZZTBaUWp0WHFad21jZU9FVm1odlhwdk9fUFhidHo2ZUphN0VEMkNkbVZFVzVkT0JqT3pucmU3ZnJPS0xER0VRNmNlWXZySkcwTmxRWWZod1c0N18xUWVTTEZYYzFEM1RyRWZIcF9SQjdubzBVeEpiUVhtNGRaNi1Tc0xqQ0ROWnFTeUsyMlJRRXpHSE5YampBdFV3SWJyQ0dnVEZGTy1wZF96YmhVT3lGRjVVdVg3d0pRYlFpSWk5Y2VINlhrUUw0UWpNQkgwcGZKSE5WSVhsNWVjeXdwZkdzTzlLam44VGpuOE9zLUdMaFVnZjhwMnR6OHZhajdvanhYWkI4QVB0UzV2eUlzLVNVVTRMOUo1U0FGWkZpQTlIUzdXVktPSlRacEh3Z2daMnIwQVRFajB3bXFBMWo0cVFNTnctLUl4VGxsOGNPc2lHLWFaSllRYUxMVEluUGVpeFNmOFpxN2lwNWVjdHk0eEJlVW5FejZFdzVNaHpBS3BVaEdNUmJYWFZUSDNZckxrOTF4RmVzeFI3bEdCTXJOejBCdlA0azhmQThGOElpOGxHTkxZVWc1OUJGTjVmX1c3MTFqNzRId0wtQUlKNmlCNWlMOVJ3YjFFd3lFM2taaGpJc0I3Tm9IcUlITTJTUHc4SXZVOXRTS2p5ci1fSVB6ei1QOUYwNzlXT0pCSjZheXVUZVk3MFVsam0zWVJSNEsyWndQcUZRejhCSzhBZ0ZENDg4ZGc3VnZMdGFNM0dXVWE0YTdtdEFDY2JqM1dQcnh0WlFyNmNsMzBaQW1GLVhYMWJFeDhmX182NWJNMmcxTjhzR2FSVmJRRU0xSUpJU052Yjl2QnJ4SVlFdEZnQ3piR3N5S1Jpb0xubjVmdkNFSURaLXZsZjNMd2Z3dENTRUZfMU5YeGVmdF9NQUllR0JoNktySmVEc1BBaDI2ejJyTjRRbHU3WGFNQzJDT2RiQUxTRS1OTDMzYWFhUmdxclVudkVES0NOOGpmUzJrMTlsSU9wR1dIZGdpREtmUndOak5hQnZpNjkyY1UtcmtNWExTZkVTVGpLMTd5UjF1NnY1b2ZURTd4bXRvaFVzT0dySlk2SjZ6MEtVQV9FTTZHbGxpX3JCeDduUUY4elpBbVRVVEhXT3lyVzBDWmg4MEdZQVlJSDBlbF85SDltanpaMXpoeHc4TDc3b0VEcHA0Ujc1TXF1WWpqeG81WnFyZW9KR09MS1RSTkVqbnpOaTV2c0dON1VQTUU5cmVBYk1KNWVZbGpLQTE1U0pLQk5QMGZ5VTQ5Tzl3UmtnUERYc0JKam1jRkpscWc3V0NvcnlaTnJvMXM0dVMybVRpaDhGdGZiU2ljaDVVYXlzdEdlQVNqT1hLR05QUEdoV3NSbDRaMExLamR6Z09fM2hKZmtDOGk3dnR5UDhqTkZpNUpHcW8zbk9VUzI1eEdNT2xWbFVYWmxvSWhjQjZrbXF5cTFObzJhOGhnUXRfeFpSd09oQ3h2ZFEzNDZNcFYxc1VKNkFYcW5oYkVaamwzb2ZsUDUxTjR1VWtNZVNKYjkya1RsVkM2RDBIZ1ZMNDZMWVIxLTRIWGYxYXhOd0pXYzdHU2ttdHZRUHBhb2Z0NkRFeHV6cDNHNGxfdDBBZVpxTmozUWpYeHc0NC11Zk4ySUx6VWdUZl9iRVpISmlxZmlfcE1kVUJCdDhkSlJVQVpVT256cE4ydi02RjFIcWJWLW04YWRaY1NxeGpvbWlkc3VVWXBrM0JzN1lUalZWb2Y4djV3MDdHcVVjQUZuWVVqbjZ4T242OXZjSnhxUHdnSm15bHZJbENIVTRmYXFOdC0wQm9EZk5ib1M0M3BqN2k3TTNCLXRVeWJzZHktR21mTXIxbDBQd1FSQ0xXaW1FTldKOVhjZUNua0w3eWU5YkFXdk9iWVNjVG93b1Y1cm5qY2l0ZWdINXhYSEEwc3l3QWU4RlVxZk1mN0JHZEN5R3gzd2VTWS1PLUdhQnZvQ2JuQTFlNEYzaU9KNFpNTjJRTWFLbDBqNHZGUUlNVmFuR1hIb29SOUVXM2ZORWhZWUNwUnBDZGRsYUhGZU4xdHRFcnlSR2lpak03THFmMDRoam9PTGFwdktvaV81bTdXOVNsOTB0QzNudzM2eGstVXI5TE9NdWR3TmZ2ZWxtM004Y2pNM2xZVk40M3pWUFVxaXdvMmhvSTlXWVdSdnQ2V2c3ZjVZVlhNN2RrUmFoM0gweG5yM0xVRnh4UDNiQkhwTS13UVByWU1kZV9HQXpNVUdzeU5qczUxTC1tcTh2WThwblJEOTFzSENjaDlTSlY5NVJsSnozeWY0ekZTSldmbmdGZWlVM2VrTmpVeG10aDlIT1FHaS10a3ppakJHWlRTMnBKUFZSTmRyZFdVT19KTTZXMmk3S1dHTUhMS0RpTG9qR0tSazJRdElxQmdOMTZlLXNzSFhGcE1IV3NiTE8yT0VsUlFtNXdHVzZKNTNqVTdaSmxrX1E5Y0JhZTMzVWFjNWw4S09qenc5ZHI1LU82cHg0c2w4WkZmRXd3MGJoVXlpZDRLeVI1NldRTVowSFVHNXFxM2JDQjhNUXdWdTYyOTNxMGZJVjdESDI0aTRFYkt1VC1rNExOWFNoUnRJMUdlc3dZVTRnbmlrWFdaNVFnMWswTnJ3RXA3dlVZOGtxRzUxa09vZDh6WmlZMjhRQ2RvZmkyUkxoV3p5RmJVZ1dUNlVPUXR2UWx3c21tUXFoU1JpWDRMcG1RTGY5X2V1WW10TlJvUU5FUG54YUJpY2EyX000RU1rTUtfelRXQmtMbmZOM29Cd3lMUGgtcUdkRG83UjM1aS1QdFhTeWpDS214bXpfblU1MGFROWozOHhQTndSRTdhcXZRNjhwbW9LRGxGeW9paWl6QUNoZFBScll6NXFhSVlDNlJsX05raEFGZkt2dFVDMUpBa24yUWpWcTJnUmVzOTRQNUVoeHZRTkJkMXNLaTd1U1ZleXFqdEt6N1J4SjJjRGRpUW8zSFNzbWh0OG5OcG92RUxsN2hweVhMbTlLYnFubTVjWGdNZWtXci1DTkJ5T2xhaGd5UHpod0FkQ0tmTGhwdmRZZ1hibzVLR0xlSHppbXd1VnNTd0l0YnY0WVJ2dm5CdS1DR2JxZ1VMdWVBNmlWUmpHZFdEbmpUVXpOQWZDVnFNNEJKcWVPT2NjWmc2eFhGV3EzY09xQ1pMekFSQzdBZFRHU0JiYjFVRGctT3hiM3ZPZnpQSXRCV0dfMGFvYXhLQkZsekhZVmJPRzRLOHhDY0l3M0c1ZE5xRGtrNHJ0UUNnT1VfT1V2aUJ4eHBaT1RWN2lOTTVaRFZuenNTQ0o1X3dxbmpxNDh1WWo1U2ZiRVFaX1FVRHhxWGdFazRpeDctWjc1MHAxWWpvOGdIT2lsSG8xUE5takRRQ2hQakdUWE1aQWV0aktwQUZfMEdES2ZvSmQySm1mQzE2SXFleV9UdGdKRGpHNzhfbG5EMko1UmFVWDJxNTRUNElCcmxIT25YdEpMdmEtbS1GSllHemNuczVUM2Z5MG1ZTlk0dkNfMC1ydUxwMzFyMml1NXhrUDB3TmV2ZWhSd0hDZ3dFTUU2V0lPYmVpZm95bUJkNzI1YV9ZVk5ESEVNNnZPbFJLWVBNbjdsRE5UYVFxS1dDWG1zSXJHT2EzXzZ4QXZDZ0EwSXZ1bXdlQXRKLVN1cHlTc3h4ODZpYWpmdjBFTy01QXhhZ3JGRGRBcG13SlZLRUZTU1NHMlltWl9nZlpwZ1hadTNSU0Z5bEJhMUhQM0hHZFVTVE5zZTVJY1Fidlo0UjZZVDdqNE1neklFUGJDYVdsTFhKUlY1d0ZGV2J3YWRFdFlFcE93eWpaOFFlRUQxcGNlVThhNGtOLW5KUlNvbnd5LVpVRVpObm1RckFqQzA1TENuc29PVmVqRnlpa2VxTllJVzg2Mzh0RDFPengteUVDb0lodmthb3IzVGNjeFNsYlhVRGVXejZYQVZvZ0FmMVZqb3R3RmxhaFY0czlGbFNDOGk3cjJGeGZzb0lzNXhpbTMzZmc4TUowSjZSd09icVhxcXdSUWRKNjlXNEw0YXdmZkJoTnRUMG5QdldGbG5GNl83akhuUjlJeE5UUDMyQ2VDdmZEQ3BFUDBGeTJkS1BTQTNCdnFnejV3emtvTmhnNHlja0ZkMURyWGY0Y2x3RUxHaHBpRDk0VWIzZ2pTT1dnUUhkNy1GYV95em5QRExyd0xseEdHVU1hRndLc2xIZ0QwQTdTTFpvVGllQXo3R2wwVG1jLV91TG83a2pCb2hDZWcwN0FXLW95NW9wLXdiS0U3azFIZU02MXA0OFJjZmJrZjRzSDJuVXk5MXY3S1pmRU9FenRFY0d6aWVVVFlLS1JrMTVkcHJpZ1R1Sl9adkppbDJQWmk5NEp6M3UxTXFwdVZzcF8xb2R5R0M4RTdtZkdvVjRKc2k0VzBEQ3pBOW83OTlGMzFMTU9zMXRNTGtQaURPSVJoT01kaUxYMU9vdmotVUdpT0EtWVlOSERHR3RGZkRjMHhRTy00bXhwb3U2ZlhIWUNtampyZXd3M2NIYXBYMWtjb3JIVHJnVzBhNm1kaXdsdjlkTm5Lcl9Ka2V5dzlVa2hONU1KbDVoTHFuRmo0Z0VIMldpY2NiRWM1M1k3aHotZ190Vjk4dmVUWUhiWTJjVHNaOXBKZ0NVbUlFVEVxMG54Z2YzRmdPQ3h2eE96YXVkcDBNZUNldTJPTHZGc3AxdGFzWXF2S2d5WGZJTkpHdGctU2ZsMVkwcmdZWklhVWZFcndOcjh6em5FZS1kTWxXbWZjalBES2ZjWWhfeE9zTE1ZOHJoWUkzY2tSWHhaaElXUlNLOHQyME9xSzY1amdnQ19nMGpwaVctOXJpck9kNmFxNTV4RlZYbWxxeklhd01fUkV2NzVqU0gtNWd5bFRBWGdycUVoUXNrYjRwVFA4VmNLSUVPdkhYMm1RazFXOWUwcEV3cVlVZkl4M2ZsNi0xbjFwSzZwdWl4SGU0eEFwSXRFYzhNSFhMcmdHRHhDQUVsLUQxVl9Ra21ucmNSdnRpNjZsOGRkR1pvMHk4VDZuTDRfQVF0d3d1WV8xVnFLWk1ZYjh5cEJxaWlLRU9ZeGdCcENweDc3VTRWNnN3eUY0a1BMZGE4PQ==)
        CM_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmZVWkNmTWtiTXdDUzUtVUlkbkI1bXAwMEFraUtzU2hFQTJQQlU1anVwY1FBMnQ1U3ZQbGdNNDJRcFpVVk1mUFhmTE9nZEV2ZGNZbWNLY00tNmtmNURCRHdib1E9PQ==)
        CM_KEY_ALIAS_PASSWORD: Encrypted(Z0FBQUFBQmZVWkNmdUxYZHVOcGM2TTE1aTFNSkM3Uk5yeUd2SlJZc1R5RkJsWExaRGgxZkJJdkhCWVM0WHFDa2NzU0tEWHc0MldmX3NnT0pHaEo4T3Ffa0tKWjZIWFI4NUE9PQ==)
        CM_KEY_ALIAS_USERNAME: Encrypted(Z0FBQUFBQmZVWkNmLXducE1lWEFBeFJmc1NCd09sTURoWFFoemJMMjBxX0I0M2hzcFhNOEhZY1p2QzNtVTdzWFBONFdEbWl3X3NwYUJJUUhPNWhkN0VKSDlxSlJib2dnOUE9PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
    scripts:
      - flutter emulators --launch emulator
      - |
        # set up key.properties
        echo $CM_KEYSTORE | base64 --decode > /tmp/keystore.keystore
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$CM_KEYSTORE_PASSWORD
        keyPassword=$CM_KEY_ALIAS_PASSWORD
        keyAlias=$CM_KEY_ALIAS_USERNAME
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - cd . && flutter packages pub get
      - |
        set -x
        tree
      - cd . && flutter drive --target=test_driver/app.dart --flavor aj --dart-define=FL_ENV=aj
      - |
        set -x
        tree
      - cd . && flutter build apk --release --flavor ula -t lib/flavors/ula/main_dev.dart
      - find . -name "Podfile" -execdir pod install \;
      - cd . && flutter build ios --release --flavor ula -t lib/flavors/ula/main_dev.dart
        --no-codesign
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - trdevendran@gmail.com
  qa-build-workflow:
    name: QA Workflow
    max_build_duration: 60
    environment:
      vars:
        CM_KEYSTORE: Encrypted(Z0FBQUFBQmZVWkNma3ZKcWJxQ2cyZUVyU0NveE5oS2xyRDRrOWxxZGpyOUVLc0FuNTdkUGRLRGhnLUVXZjZzZGU1bUdSOXJ4REhvOEdYd1oxbjllMVVScjk3aXFhMWJaa2drWWxPaDBOMnQ5eE9wWW11bi1SODJsWXBLa0M5YWV2eEhlRXJYVy1JaUlNOTQ4WktrbDdJS2VfWFE2cXlza0N4QWJ0Y1BkalhhaGxEa3hmQmljQmJzLVpPa2VRRVhZVjN0UElTXzFWUF8zNmhTbnd6RHpnX1VIeTM3aDB1RzhNS0tSVUZmYXFHNFVIMGlYY1QwZmJESGcxRXNNSnd2Z1dkXzhQRFFhZU9iUUFsODU4NlFCQS1iYUNvbW5vUndseEV2dFBQeUE5SmZXMU9rNU1TQW5Jc2hhUm9NWHlPRHBvR3FaeHJ1SXJxVmZOYzRfV1ZtQ21KUVktSEZ3cGRZTUI2aXFYZ3dXNU9Uc3BWU2t5amFidHBzWEs3YkVSeHR1WW8wYkQ5ZnJVWVpYNzVIaXNmY0VRT1BEVm8zMEpvc3JqWWh3dUh4c1Fpb2FUZk1CMHlBUFEtU19zUlNWT0V0NEl6b0lpNjFMTkFmczluUlg5Q1pxc3RjWmx5Y0RPSEF5Y1Baakh1QXhKdTM2ZWstVG80Nm9hc1hMX2dzZ0F3d1RocklOWUR5SFFrTVoxVlpZZzg2c200MjZHTEY4aWlhT05kTG9lWWNmaWRVbWJBRWg1bkViZ1FuRlJKYkg4M0pkUWhBaDZBUGxaWWpwblRmZTVROFdyY3dhYnZCZ1N3WU5yeWllcnBHdl9Oc2EybUY5ei1LaEJPMHFxOHNOU2haaHZ0b1ZYRVQ3Q3Z3Z1FMXzFkZWxaekRWQm1qdFozWnREcFNLV2xmQjNaTjVaeDRYV3E3bTVyMG0zUGtiRUgxcU5BZFBFZ1pCbXVqZUJoYUM4V1RkWGdZZTBaUWp0WHFad21jZU9FVm1odlhwdk9fUFhidHo2ZUphN0VEMkNkbVZFVzVkT0JqT3pucmU3ZnJPS0xER0VRNmNlWXZySkcwTmxRWWZod1c0N18xUWVTTEZYYzFEM1RyRWZIcF9SQjdubzBVeEpiUVhtNGRaNi1Tc0xqQ0ROWnFTeUsyMlJRRXpHSE5YampBdFV3SWJyQ0dnVEZGTy1wZF96YmhVT3lGRjVVdVg3d0pRYlFpSWk5Y2VINlhrUUw0UWpNQkgwcGZKSE5WSVhsNWVjeXdwZkdzTzlLam44VGpuOE9zLUdMaFVnZjhwMnR6OHZhajdvanhYWkI4QVB0UzV2eUlzLVNVVTRMOUo1U0FGWkZpQTlIUzdXVktPSlRacEh3Z2daMnIwQVRFajB3bXFBMWo0cVFNTnctLUl4VGxsOGNPc2lHLWFaSllRYUxMVEluUGVpeFNmOFpxN2lwNWVjdHk0eEJlVW5FejZFdzVNaHpBS3BVaEdNUmJYWFZUSDNZckxrOTF4RmVzeFI3bEdCTXJOejBCdlA0azhmQThGOElpOGxHTkxZVWc1OUJGTjVmX1c3MTFqNzRId0wtQUlKNmlCNWlMOVJ3YjFFd3lFM2taaGpJc0I3Tm9IcUlITTJTUHc4SXZVOXRTS2p5ci1fSVB6ei1QOUYwNzlXT0pCSjZheXVUZVk3MFVsam0zWVJSNEsyWndQcUZRejhCSzhBZ0ZENDg4ZGc3VnZMdGFNM0dXVWE0YTdtdEFDY2JqM1dQcnh0WlFyNmNsMzBaQW1GLVhYMWJFeDhmX182NWJNMmcxTjhzR2FSVmJRRU0xSUpJU052Yjl2QnJ4SVlFdEZnQ3piR3N5S1Jpb0xubjVmdkNFSURaLXZsZjNMd2Z3dENTRUZfMU5YeGVmdF9NQUllR0JoNktySmVEc1BBaDI2ejJyTjRRbHU3WGFNQzJDT2RiQUxTRS1OTDMzYWFhUmdxclVudkVES0NOOGpmUzJrMTlsSU9wR1dIZGdpREtmUndOak5hQnZpNjkyY1UtcmtNWExTZkVTVGpLMTd5UjF1NnY1b2ZURTd4bXRvaFVzT0dySlk2SjZ6MEtVQV9FTTZHbGxpX3JCeDduUUY4elpBbVRVVEhXT3lyVzBDWmg4MEdZQVlJSDBlbF85SDltanpaMXpoeHc4TDc3b0VEcHA0Ujc1TXF1WWpqeG81WnFyZW9KR09MS1RSTkVqbnpOaTV2c0dON1VQTUU5cmVBYk1KNWVZbGpLQTE1U0pLQk5QMGZ5VTQ5Tzl3UmtnUERYc0JKam1jRkpscWc3V0NvcnlaTnJvMXM0dVMybVRpaDhGdGZiU2ljaDVVYXlzdEdlQVNqT1hLR05QUEdoV3NSbDRaMExLamR6Z09fM2hKZmtDOGk3dnR5UDhqTkZpNUpHcW8zbk9VUzI1eEdNT2xWbFVYWmxvSWhjQjZrbXF5cTFObzJhOGhnUXRfeFpSd09oQ3h2ZFEzNDZNcFYxc1VKNkFYcW5oYkVaamwzb2ZsUDUxTjR1VWtNZVNKYjkya1RsVkM2RDBIZ1ZMNDZMWVIxLTRIWGYxYXhOd0pXYzdHU2ttdHZRUHBhb2Z0NkRFeHV6cDNHNGxfdDBBZVpxTmozUWpYeHc0NC11Zk4ySUx6VWdUZl9iRVpISmlxZmlfcE1kVUJCdDhkSlJVQVpVT256cE4ydi02RjFIcWJWLW04YWRaY1NxeGpvbWlkc3VVWXBrM0JzN1lUalZWb2Y4djV3MDdHcVVjQUZuWVVqbjZ4T242OXZjSnhxUHdnSm15bHZJbENIVTRmYXFOdC0wQm9EZk5ib1M0M3BqN2k3TTNCLXRVeWJzZHktR21mTXIxbDBQd1FSQ0xXaW1FTldKOVhjZUNua0w3eWU5YkFXdk9iWVNjVG93b1Y1cm5qY2l0ZWdINXhYSEEwc3l3QWU4RlVxZk1mN0JHZEN5R3gzd2VTWS1PLUdhQnZvQ2JuQTFlNEYzaU9KNFpNTjJRTWFLbDBqNHZGUUlNVmFuR1hIb29SOUVXM2ZORWhZWUNwUnBDZGRsYUhGZU4xdHRFcnlSR2lpak03THFmMDRoam9PTGFwdktvaV81bTdXOVNsOTB0QzNudzM2eGstVXI5TE9NdWR3TmZ2ZWxtM004Y2pNM2xZVk40M3pWUFVxaXdvMmhvSTlXWVdSdnQ2V2c3ZjVZVlhNN2RrUmFoM0gweG5yM0xVRnh4UDNiQkhwTS13UVByWU1kZV9HQXpNVUdzeU5qczUxTC1tcTh2WThwblJEOTFzSENjaDlTSlY5NVJsSnozeWY0ekZTSldmbmdGZWlVM2VrTmpVeG10aDlIT1FHaS10a3ppakJHWlRTMnBKUFZSTmRyZFdVT19KTTZXMmk3S1dHTUhMS0RpTG9qR0tSazJRdElxQmdOMTZlLXNzSFhGcE1IV3NiTE8yT0VsUlFtNXdHVzZKNTNqVTdaSmxrX1E5Y0JhZTMzVWFjNWw4S09qenc5ZHI1LU82cHg0c2w4WkZmRXd3MGJoVXlpZDRLeVI1NldRTVowSFVHNXFxM2JDQjhNUXdWdTYyOTNxMGZJVjdESDI0aTRFYkt1VC1rNExOWFNoUnRJMUdlc3dZVTRnbmlrWFdaNVFnMWswTnJ3RXA3dlVZOGtxRzUxa09vZDh6WmlZMjhRQ2RvZmkyUkxoV3p5RmJVZ1dUNlVPUXR2UWx3c21tUXFoU1JpWDRMcG1RTGY5X2V1WW10TlJvUU5FUG54YUJpY2EyX000RU1rTUtfelRXQmtMbmZOM29Cd3lMUGgtcUdkRG83UjM1aS1QdFhTeWpDS214bXpfblU1MGFROWozOHhQTndSRTdhcXZRNjhwbW9LRGxGeW9paWl6QUNoZFBScll6NXFhSVlDNlJsX05raEFGZkt2dFVDMUpBa24yUWpWcTJnUmVzOTRQNUVoeHZRTkJkMXNLaTd1U1ZleXFqdEt6N1J4SjJjRGRpUW8zSFNzbWh0OG5OcG92RUxsN2hweVhMbTlLYnFubTVjWGdNZWtXci1DTkJ5T2xhaGd5UHpod0FkQ0tmTGhwdmRZZ1hibzVLR0xlSHppbXd1VnNTd0l0YnY0WVJ2dm5CdS1DR2JxZ1VMdWVBNmlWUmpHZFdEbmpUVXpOQWZDVnFNNEJKcWVPT2NjWmc2eFhGV3EzY09xQ1pMekFSQzdBZFRHU0JiYjFVRGctT3hiM3ZPZnpQSXRCV0dfMGFvYXhLQkZsekhZVmJPRzRLOHhDY0l3M0c1ZE5xRGtrNHJ0UUNnT1VfT1V2aUJ4eHBaT1RWN2lOTTVaRFZuenNTQ0o1X3dxbmpxNDh1WWo1U2ZiRVFaX1FVRHhxWGdFazRpeDctWjc1MHAxWWpvOGdIT2lsSG8xUE5takRRQ2hQakdUWE1aQWV0aktwQUZfMEdES2ZvSmQySm1mQzE2SXFleV9UdGdKRGpHNzhfbG5EMko1UmFVWDJxNTRUNElCcmxIT25YdEpMdmEtbS1GSllHemNuczVUM2Z5MG1ZTlk0dkNfMC1ydUxwMzFyMml1NXhrUDB3TmV2ZWhSd0hDZ3dFTUU2V0lPYmVpZm95bUJkNzI1YV9ZVk5ESEVNNnZPbFJLWVBNbjdsRE5UYVFxS1dDWG1zSXJHT2EzXzZ4QXZDZ0EwSXZ1bXdlQXRKLVN1cHlTc3h4ODZpYWpmdjBFTy01QXhhZ3JGRGRBcG13SlZLRUZTU1NHMlltWl9nZlpwZ1hadTNSU0Z5bEJhMUhQM0hHZFVTVE5zZTVJY1Fidlo0UjZZVDdqNE1neklFUGJDYVdsTFhKUlY1d0ZGV2J3YWRFdFlFcE93eWpaOFFlRUQxcGNlVThhNGtOLW5KUlNvbnd5LVpVRVpObm1RckFqQzA1TENuc29PVmVqRnlpa2VxTllJVzg2Mzh0RDFPengteUVDb0lodmthb3IzVGNjeFNsYlhVRGVXejZYQVZvZ0FmMVZqb3R3RmxhaFY0czlGbFNDOGk3cjJGeGZzb0lzNXhpbTMzZmc4TUowSjZSd09icVhxcXdSUWRKNjlXNEw0YXdmZkJoTnRUMG5QdldGbG5GNl83akhuUjlJeE5UUDMyQ2VDdmZEQ3BFUDBGeTJkS1BTQTNCdnFnejV3emtvTmhnNHlja0ZkMURyWGY0Y2x3RUxHaHBpRDk0VWIzZ2pTT1dnUUhkNy1GYV95em5QRExyd0xseEdHVU1hRndLc2xIZ0QwQTdTTFpvVGllQXo3R2wwVG1jLV91TG83a2pCb2hDZWcwN0FXLW95NW9wLXdiS0U3azFIZU02MXA0OFJjZmJrZjRzSDJuVXk5MXY3S1pmRU9FenRFY0d6aWVVVFlLS1JrMTVkcHJpZ1R1Sl9adkppbDJQWmk5NEp6M3UxTXFwdVZzcF8xb2R5R0M4RTdtZkdvVjRKc2k0VzBEQ3pBOW83OTlGMzFMTU9zMXRNTGtQaURPSVJoT01kaUxYMU9vdmotVUdpT0EtWVlOSERHR3RGZkRjMHhRTy00bXhwb3U2ZlhIWUNtampyZXd3M2NIYXBYMWtjb3JIVHJnVzBhNm1kaXdsdjlkTm5Lcl9Ka2V5dzlVa2hONU1KbDVoTHFuRmo0Z0VIMldpY2NiRWM1M1k3aHotZ190Vjk4dmVUWUhiWTJjVHNaOXBKZ0NVbUlFVEVxMG54Z2YzRmdPQ3h2eE96YXVkcDBNZUNldTJPTHZGc3AxdGFzWXF2S2d5WGZJTkpHdGctU2ZsMVkwcmdZWklhVWZFcndOcjh6em5FZS1kTWxXbWZjalBES2ZjWWhfeE9zTE1ZOHJoWUkzY2tSWHhaaElXUlNLOHQyME9xSzY1amdnQ19nMGpwaVctOXJpck9kNmFxNTV4RlZYbWxxeklhd01fUkV2NzVqU0gtNWd5bFRBWGdycUVoUXNrYjRwVFA4VmNLSUVPdkhYMm1RazFXOWUwcEV3cVlVZkl4M2ZsNi0xbjFwSzZwdWl4SGU0eEFwSXRFYzhNSFhMcmdHRHhDQUVsLUQxVl9Ra21ucmNSdnRpNjZsOGRkR1pvMHk4VDZuTDRfQVF0d3d1WV8xVnFLWk1ZYjh5cEJxaWlLRU9ZeGdCcENweDc3VTRWNnN3eUY0a1BMZGE4PQ==)
        CM_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmZVWkNmTWtiTXdDUzUtVUlkbkI1bXAwMEFraUtzU2hFQTJQQlU1anVwY1FBMnQ1U3ZQbGdNNDJRcFpVVk1mUFhmTE9nZEV2ZGNZbWNLY00tNmtmNURCRHdib1E9PQ==)
        CM_KEY_ALIAS_PASSWORD: Encrypted(Z0FBQUFBQmZVWkNmdUxYZHVOcGM2TTE1aTFNSkM3Uk5yeUd2SlJZc1R5RkJsWExaRGgxZkJJdkhCWVM0WHFDa2NzU0tEWHc0MldmX3NnT0pHaEo4T3Ffa0tKWjZIWFI4NUE9PQ==)
        CM_KEY_ALIAS_USERNAME: Encrypted(Z0FBQUFBQmZVWkNmLXducE1lWEFBeFJmc1NCd09sTURoWFFoemJMMjBxX0I0M2hzcFhNOEhZY1p2QzNtVTdzWFBONFdEbWl3X3NwYUJJUUhPNWhkN0VKSDlxSlJib2dnOUE9PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
    scripts:
      - flutter emulators --launch emulator
      - |
        # set up key.properties
        echo $CM_KEYSTORE | base64 --decode > /tmp/keystore.keystore
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$CM_KEYSTORE_PASSWORD
        keyPassword=$CM_KEY_ALIAS_PASSWORD
        keyAlias=$CM_KEY_ALIAS_USERNAME
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - cd . && flutter packages pub get
      - |
        set -x
        tree
      - cd . && flutter drive --target=test_driver/app.dart --flavor aj --dart-define=FL_ENV=aj
      - |
        set -x
        tree
      - cd . && flutter build apk --release --flavor ula -t lib/flavors/ula/main_dev.dart
      - find . -name "Podfile" -execdir pod install \;
      - cd . && flutter build ios --release --flavor ula -t lib/flavors/ula/main_dev.dart
        --no-codesign
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - trdevendran@gmail.com